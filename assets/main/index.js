System.register("chunks:///_virtual/AutoConvoire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Convertor.ts"],(function(e){var t,r,o,n,i,u,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,a=e.Enum,c=e.Component},function(e){l=e.Convertor}],execute:function(){var s,p,v,f,y,h,d,m;i._RF.push({},"45ffbGmE9lHEJFQpEv2tPZr","AutoConvoire",void 0);var b=u.ccclass,C=u.property,g=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(g||{});e("AutoConvoire",(s=b("AutoConvoire"),p=C({type:a(g)}),v=C({type:l}),s((h=t((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,o(t,"itemType",h,n(t)),o(t,"convertor",d,n(t)),o(t,"interval",m,n(t)),t.timer=0,t}r(t,e);var i=t.prototype;return i.update=function(e){this.convertor&&(this.timer>=this.interval?(this.addResourceToConvertor(),this.timer=0):this.timer+=e)},i.addResourceToConvertor=function(){this.convertor.onAddA(this.itemType,1)},t}(c)).prototype,"itemType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Money}}),d=t(y.prototype,"convertor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"interval",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/BotMover.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,a,s,u,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,u=t.Vec3,c=t.Quat,l=t.Component}],execute:function(){var p,h,g,f,d,b,m,v,y,T;n._RF.push({},"fab09FL1opAKZuuPep49lQe","BotMover",void 0);var w=a.ccclass,S=a.property;t("BotMover",(p=w("BotMover"),h=S({type:s}),g=S({type:s}),p((b=e((d=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).curTarget=null,r(e,"targetF",b,o(e)),r(e,"targetS",m,o(e)),r(e,"speed",v,o(e)),r(e,"rotationSpeed",y,o(e)),r(e,"timeToSwitchPoints",T,o(e)),e.timer=0,e}i(e,t);var n=e.prototype;return n.start=function(){this.curTarget=this.targetF},n.update=function(t){if(this.timer>this.timeToSwitchPoints?(this.timer=0,this.SetNextTarget()):this.timer+=t,this.node.position=u.moveTowards(new u,this.node.position,this.curTarget.position,this.speed*t),this.curTarget){var e=new u;if(u.subtract(e,this.curTarget.position,this.node.position),e.lengthSqr()>.01){var i=new c;c.fromViewUp(i,e.normalize(),u.UP);var r=this.node.getRotation();c.slerp(i,r,i,this.rotationSpeed*t),this.node.setRotation(i)}}},n.SetNextTarget=function(){this.targetF==this.curTarget?this.curTarget=this.targetS:this.curTarget=this.targetF},e}(l)).prototype,"targetF",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(d.prototype,"targetS",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(d.prototype,"speed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),y=e(d.prototype,"rotationSpeed",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),T=e(d.prototype,"timeToSwitchPoints",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),f=d))||f));n._RF.pop()}}}));

System.register("chunks:///_virtual/CameraMovment.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,r,n,i,o,a,p,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.Node,s=e.Vec3,c=e.Component}],execute:function(){var u,l,f,m,d,v,y,h;o._RF.push({},"ef193psLwZMq4CGsypf0SVe","CameraMovment",void 0);var g=a.ccclass,b=a.property;e("CameraMovment",(u=g("CameraMovment"),l=b({type:p}),f=b({type:s}),u((v=t((d=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,n(t,"target",v,i(t)),n(t,"offset",y,i(t)),n(t,"movmentSpeed",h,i(t)),t}r(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this.target&&(this.node.position=s.lerp(new s(0,0,0),this.node.position,this.target.position.add(this.offset),this.movmentSpeed*e))},t}(c)).prototype,"target",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"offset",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),h=t(d.prototype,"movmentSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=d))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Joystick.ts"],(function(t){var e,r,o,n,a,i,c,l,s,h,p,u,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,c=t.CCFloat,l=t.CharacterController,s=t.Vec3,h=t.toDegree,p=t.Quat,u=t.Component},function(t){y=t.Joystick}],execute:function(){var f,C,m,d,v,k,w;a._RF.push({},"6ad75KbLchHM7nRI69M0b4S","CharacterInput",void 0);var b=i.ccclass,g=i.property;t("CharacterInput",(f=b("CharacterController"),C=g({type:y}),m=g({type:c}),f((k=e((v=function(t){function e(){for(var e,r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a))||this,o(e,"joystick",k,n(e)),o(e,"movementSpeed",w,n(e)),e.rotationSpeed=360,e.characterController=null,e}r(e,t);var a=e.prototype;return a.start=function(){this.characterController=this.getComponent(l),this.characterController||console.warn("CharacterController component not found!")},a.update=function(t){this.joystick||console.warn("Joystick not found!");var e=new s(-this.joystick.horizontal,0,this.joystick.vertical),r=Math.sqrt(Math.pow(this.joystick.horizontal,2)+Math.pow(this.joystick.vertical,2));if(r>1&&e.multiplyScalar(1/r),r>.01){var o=h(Math.atan2(e.x,e.z)),n=new p;p.fromAxisAngle(n,s.UNIT_Y,o*Math.PI/180);var a=Math.min(this.rotationSpeed*t,1);this.node.rotation=p.slerp(new p,this.node.rotation,n,a)}this.characterController&&this.characterController.move(e.multiplyScalar(this.movementSpeed*t))},e}(u)).prototype,"joystick",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(v.prototype,"movementSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=v))||d));a._RF.pop()}}}));

System.register("chunks:///_virtual/CollectableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,o,n,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,a=e.Enum,c=e.Component}],execute:function(){var s,u,p,d,y,f;n._RF.push({},"2a8b9CH319PC48kj605CQ83","CollectableItem",void 0);var h=l.ccclass,b=l.property,C=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(C||{});e("CollectableItem",(s=h("CollectableItem"),u=b({type:a(C)}),s((y=t((d=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return t=e.call.apply(e,[this].concat(n))||this,r(t,"itemType",y,o(t)),r(t,"value",f,o(t)),t.isCollected=!1,t}i(t,e);var n=t.prototype;return n.tryCollect=function(e){if(this.isCollected)return!1;var t=e.addItem(this.itemType,this.value);return t&&this.disable(),t},n.disable=function(){this.isCollected||(this.isCollected=!0,this.node.active=!1)},n.reset=function(){this.isCollected=!1,this.node.active=!0},t}(c)).prototype,"itemType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C.Money}}),f=t(d.prototype,"value",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/Convertor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GainResourceZone.ts"],(function(t){var e,i,n,r,o,s,u,a,c,l,h,p,f,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,a=t.Enum,c=t.Node,l=t.Prefab,h=t.instantiate,p=t.Vec3,f=t.Component},function(t){B=t.GainResourceZone}],execute:function(){var y,b,d,A,v,m,g,V,P,z,F,R,w,T,x,G,k,C,H;s._RF.push({},"9bdf7hQc6xKfbsf4xC2fulb","Convertor",void 0);var I=u.ccclass,Z=u.property,D=function(t){return t.Money="Money",t.GoldBar="GoldBar",t.Box="Box",t}(D||{});t("Convertor",(y=I("Convertor"),b=Z({type:a(D)}),d=Z({type:a(D)}),A=Z({type:c}),v=Z({type:c}),m=Z({type:l}),g=Z({type:l}),V=Z({type:B}),y((F=e((z=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"itemAType",F,o(e)),r(e,"itemBType",R,o(e)),r(e,"pointForA",w,o(e)),r(e,"pointForB",T,o(e)),r(e,"resourceAPrefab",x,o(e)),r(e,"resourceBPrefab",G,o(e)),r(e,"takingBZone",k,o(e)),r(e,"stackHeight",C,o(e)),r(e,"convertingInterval",H,o(e)),e.currentVisualsA=[],e.currentVisualsB=[],e.countA=0,e.countB=0,e.timer=0,e}i(e,t);var s=e.prototype;return s.start=function(){this.node.on("onResourceGet",this.onAddA,this),this.node.on("onResourceGived",this.onRemoveB,this)},s.onDestroy=function(){this.node.off("onResourceGet",this.onAddA,D),this.node.off("onResourceGived",this.onRemoveB,this)},s.update=function(t){this.timer>=this.convertingInterval&&this.countA>0?(this.onRemoveA(this.itemAType,1),this.onAddB(this.itemBType,1),this.timer=0):this.timer+=t},s.onAddA=function(t,e){t==this.itemAType&&(this.countA+=e,this.updateVisualA())},s.onRemoveA=function(t,e){t==this.itemAType&&(this.countA-=e,this.updateVisualA())},s.onAddB=function(t,e){t==this.itemBType&&(this.countB+=1,this.takingBZone.setCost(this.countB),this.updateVisualB())},s.onRemoveB=function(t,e){t==this.itemBType&&(this.countB-=e,this.updateVisualB())},s.updateVisualA=function(){for(var t,e=n(this.currentVisualsA);!(t=e()).done;){t.value.destroy()}if(this.currentVisualsA=[],this.countA&&this.countA>0)for(var i=0;i<this.countA;i++){var r=h(this.resourceAPrefab);r.setParent(this.node);var o=new p(this.pointForA.x,this.pointForA.y+i*this.stackHeight,this.pointForA.z);r.setPosition(o),this.currentVisualsA.push(r)}},s.updateVisualB=function(){for(var t,e=n(this.currentVisualsB);!(t=e()).done;){t.value.destroy()}if(this.currentVisualsB=[],this.resourceBPrefab&&this.countB>0)for(var i=0;i<this.countB;i++){var r=h(this.resourceBPrefab);r.setParent(this.node);var o=new p(this.pointForB.x,this.pointForB.y+i*this.stackHeight,this.pointForB.z);r.setPosition(o),this.currentVisualsB.push(r)}},s.getBoxes=function(){return this.countB},e}(f)).prototype,"itemAType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.GoldBar}}),R=e(z.prototype,"itemBType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Box}}),w=e(z.prototype,"pointForA",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(z.prototype,"pointForB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"resourceAPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"resourceBPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"takingBZone",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"stackHeight",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),H=e(z.prototype,"convertingInterval",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=z))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/GainResourceZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var i,t,n,r,o,a,s,l,u,g,c,m,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,l=e.CCInteger,u=e.Node,g=e.CCFloat,c=e.Collider,m=e.Component},function(e){p=e.PlayerInventory}],execute:function(){var h,f,y,d,v,T,b,G,C,A,x,w,B,E,z,R,I,M,O,P;o._RF.push({},"8faa75FzwdNdYy4awlcFELl","GainResourceZone",void 0);var F=a.ccclass,Z=a.property,k=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(k||{});e("GainResourceZone",(h=F("GainResourceZone"),f=Z({type:s(k)}),y=Z({type:l}),d=Z({type:u}),v=Z({type:u}),T=Z({type:u}),b=Z({type:g}),G=Z({type:l}),C=Z({type:p}),h((w=i((x=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"itemType",w,r(i)),n(i,"cost",B,r(i)),n(i,"disableTarget",E,r(i)),n(i,"enableTarget",z,r(i)),n(i,"eventTarget",R,r(i)),n(i,"gainInterval",I,r(i)),n(i,"gainAmount",M,r(i)),n(i,"isOneTime",O,r(i)),n(i,"inventories",P,r(i)),i.timer=0,i.isGaining=!1,i.gainedAmount=0,i}t(i,e);var o=i.prototype;return o.start=function(){var e=this.getComponent(c);e?(e.on("onTriggerEnter",this.onTriggerEnter,this),e.on("onTriggerExit",this.onTriggerExit,this)):console.warn("GainResourceZone: No Collider found on "+this.node.name)},o.onDestroy=function(){var e=this.getComponent(c);e&&(e.off("onTriggerEnter",this.onTriggerEnter,this),e.off("onTriggerExit",this.onTriggerExit,this)),this.unscheduleAllCallbacks()},o.onTriggerEnter=function(e){if(!(this.gainedAmount>=this.cost&&this.isOneTime)){var i=e.otherCollider.node;"Player"!==i.name&&"Helper"!==i.name||(this.inventories.push(i.getComponent(p)),this.inventories.length>0&&(this.isGaining=!0))}},o.onTriggerExit=function(e){var i=e.otherCollider.node;"Player"!==i.name&&"Helper"!==i.name||(this.inventories.indexOf(i.getComponent(p))>=0&&delete this.inventories[this.inventories.indexOf(i.getComponent(p))],0==this.inventories.length&&(this.isGaining=!1))},o.update=function(e){this.isGaining&&(this.timer>=this.gainInterval?(this.tryGainResource(),this.timer=0):this.timer+=e)},o.setCost=function(e){this.cost=e,this.gainedAmount=0},o.tryGainResource=function(){var e=this;this.inventories.forEach((function(i){if(i){var t=i.getCurrentItemType();if(null!==t&&t!==e.itemType)return void e.node.emit("itemBlocked",e.itemType,e.gainAmount);var n=!0;if((e.itemType===k.GoldBar&&i.getGoldBars()>=i.maxGoldBars||e.itemType===k.Box&&i.getBoxes()>=i.maxBoxes)&&(n=!1),n){var r=Math.min(e.gainAmount,e.cost-e.gainedAmount);r>0&&i.addItem(e.itemType,e.itemType===k.Money?10*r:r)&&(e.gainedAmount+=r,e.eventTarget&&e.eventTarget.emit("onResourceGived",e.itemType,e.gainAmount),e.gainedAmount>=e.cost&&e.finishedGaining())}else e.node.emit("itemBlocked",e.itemType,e.gainAmount)}}))},o.finishedGaining=function(){this.disableTarget&&(this.disableTarget.active=!1),this.enableTarget&&(this.enableTarget.active=!0),this.eventTarget&&this.eventTarget.emit("onAllResourceGived",this.itemType,this.gainAmount),this.isOneTime&&(this.isGaining=!1,this.node.active=!1)},i}(m)).prototype,"itemType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.Money}}),B=i(x.prototype,"cost",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=i(x.prototype,"disableTarget",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(x.prototype,"enableTarget",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(x.prototype,"eventTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"gainInterval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),M=i(x.prototype,"gainAmount",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(x.prototype,"isOneTime",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=i(x.prototype,"inventories",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=x))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,s,e,r,c,a,h,u,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.createClass,s=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,h=t.UITransform,u=t.Vec2,l=t.Component}],execute:function(){var T,p,d,g,y,f,k;r._RF.push({},"06a4b5F4aZI95zZmAC8mEqH","Joystick",void 0);var v=c.ccclass,b=c.property;t("Joystick",(T=v("Joystick"),p=b({type:a}),d=b({type:a}),T((f=i((y=function(t){function i(){for(var i,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,s(i,"stick",f,e(i)),s(i,"background",k,e(i)),i.maxRadius=50,i.touchStartPos=u.ZERO,i.isTouching=!1,i._horizontal=0,i._vertical=0,i}o(i,t);var r=i.prototype;return r.onLoad=function(){this.stick&&this.background?(this.maxRadius=this.getComponent(h).contentSize.x,this.background.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.background.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.background.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.background.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):console.error("Stick or background is null")},r.onDestroy=function(){this.background.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.background.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.background.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.background.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchStart=function(t){this.isTouching=!0,this.touchStartPos=t.getUILocation(),this.stick.setPosition(0,0)},r.onTouchMove=function(t){if(this.stick&&this.background&&this.isTouching){var i=t.getUILocation().subtract(this.touchStartPos),o=i.clone();i.length()>this.maxRadius&&o.multiplyScalar(this.maxRadius/i.length()),this._horizontal=o.x/this.maxRadius,this._vertical=o.y/this.maxRadius,this.stick.setPosition(o.x,o.y,0)}},r.onTouchEnd=function(t){this.isTouching=!1,this.stick.setPosition(0,0),this._horizontal=0,this._vertical=0},n(i,[{key:"horizontal",get:function(){return this._horizontal}},{key:"vertical",get:function(){return this._vertical}}]),i}(l)).prototype,"stick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(y.prototype,"background",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AutoConvoire.ts","./BotMover.ts","./CameraMovment.ts","./CharacterInput.ts","./CollectableItem.ts","./Convertor.ts","./GainResourceZone.ts","./Joystick.ts","./PlayerCarryVisual.ts","./PlayerInventory.ts","./ResourceGenerator.ts","./SpendResourceZone.ts","./TrashUnit.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayerCarryVisual.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var t,n,r,a,i,o,s,l,c,h,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Vec3,h=e.instantiate,u=e.Component},function(e){y=e.PlayerInventory}],execute:function(){var f,d,p,g,v,b,C,P,x,B,m,V;o._RF.push({},"1eabdpou+1LZ5Z5JOC2d5SY","PlayerCarryVisual",void 0);var M=s.ccclass,I=s.property,w=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(w||{});e("PlayerCarryVisual",(f=M("PlayerCarryVisual"),d=I({type:l}),p=I({type:l}),g=I({type:l}),v=I({type:c}),f((P=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"moneyPrefab",P,i(t)),a(t,"goldBarPrefab",x,i(t)),a(t,"boxPrefab",B,i(t)),a(t,"carryOffset",m,i(t)),a(t,"stackHeight",V,i(t)),t.currentVisuals=[],t.inventory=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.inventory=this.getComponent(y),this.inventory||console.warn("PlayerInventoru not found"),this.node.on("balanceChanged",this.onBalanceChanged,this),this.node.on("inventoryChanged",this.onInventoryChanged,this),this.node.on("maxCapacityReached",this.onMaxCapacityReached,this),this.updateVisual(),console.log("PlayerCarryVisual: Initialized")},o.onDestroy=function(){this.node.off("balanceChanged",this.onBalanceChanged,this),this.node.off("inventoryChanged",this.onInventoryChanged,this),this.node.off("maxCapacityReached",this.onMaxCapacityReached,this)},o.onBalanceChanged=function(e){console.log("PlayerCarryVisual: Balance changed to "+e),this.updateVisual()},o.onInventoryChanged=function(e,t){console.log("PlayerCarryVisual: Inventory changed - "+e+": "+t),this.updateVisual()},o.onMaxCapacityReached=function(e){console.log("PlayerCarryVisual: Max capacity reached for "+e)},o.updateVisual=function(){for(var e,t=r(this.currentVisuals);!(e=t()).done;){e.value.destroy()}this.currentVisuals=[];var n=this.inventory.getCurrentItemType(),a=null,i=0;if(n===w.Money&&this.inventory.getMoney()>0?(a=this.moneyPrefab,i=Math.min(Math.floor(this.inventory.getMoney()/10),100)):n===w.GoldBar&&this.inventory.getGoldBars()>0?(a=this.goldBarPrefab,i=Math.min(this.inventory.getGoldBars(),this.inventory.maxGoldBars)):n===w.Box&&this.inventory.getBoxes()>0&&(a=this.boxPrefab,i=Math.min(this.inventory.getBoxes(),this.inventory.maxBoxes)),a&&i>0)for(var o=0;o<i;o++){var s=h(a);s.setParent(this.node);var l=new c(this.carryOffset.x,this.carryOffset.y+o*this.stackHeight,this.carryOffset.z);s.setPosition(l),this.currentVisuals.push(s)}},o.update=function(e){for(var t=0;t<this.currentVisuals.length;t++){var n=new c(this.carryOffset.x,this.carryOffset.y+t*this.stackHeight,this.carryOffset.z);this.currentVisuals[t].setPosition(n)}},t}(u)).prototype,"moneyPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"goldBarPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"boxPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(C.prototype,"carryOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,1,-.5)}}),V=t(C.prototype,"stackHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=C))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInventory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CollectableItem.ts"],(function(e){var t,n,r,o,i,s,a,l,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Collider,l=e.Component},function(e){h=e.CollectableItem}],execute:function(){var c,u,d,y,m,g,B;i._RF.push({},"e5e8cnrfxdJrohkdspTMtNm","PlayerInventory",void 0);var p=s.ccclass,x=s.property,b=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(b||{});e("PlayerInventory",p("PlayerInventory")((d=t((u=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),s=0;s<n;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,r(t,"maxGoldBars",d,o(t)),r(t,"maxBoxes",y,o(t)),r(t,"money",m,o(t)),r(t,"goldBars",g,o(t)),r(t,"boxes",B,o(t)),t.currentItemType=null,t}n(t,e);var i=t.prototype;return i.start=function(){var e=this.getComponent(a);e&&e.on("onTriggerEnter",this.onTriggerEnter,this)},i.onDestroy=function(){var e=this.getComponent(a);e&&e.off("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(e){var t=e.otherCollider.getComponent(h);t&&t.tryCollect(this)},i.addItem=function(e,t){if(null!==this.currentItemType&&this.currentItemType!==e)return this.node.emit("itemBlocked",e),!1;var n=!1;switch(this.currentItemType=e,e){case b.Money:this.money+=t,this.node.emit("balanceChanged",this.money),n=!0;break;case b.GoldBar:this.goldBars<this.maxGoldBars&&(this.goldBars+=t,this.node.emit("inventoryChanged","GoldBar",this.goldBars),this.goldBars>this.maxGoldBars?this.node.emit("maxCapacityReached","GoldBar"):n=!0);break;case b.Box:this.boxes<this.maxBoxes&&(this.boxes+=t,this.node.emit("inventoryChanged","Box",this.boxes),this.boxes>this.maxBoxes?this.node.emit("maxCapacityReached","Box"):n=!0)}return n},i.clearCarriedItems=function(e){e===b.Money?(this.money=0,this.currentItemType=null,this.node.emit("inventoryChanged","Money",this.goldBars)):e===b.GoldBar?(this.goldBars=0,this.currentItemType=null,this.node.emit("inventoryChanged","GoldBar",this.goldBars)):e===b.Box&&(this.boxes=0,this.currentItemType=null,this.node.emit("inventoryChanged","Box",this.boxes))},i.spendResource=function(e,t){switch(e){case b.Money:this.money>=t&&(this.money-=t,this.node.emit("balanceChanged",this.money),0==this.money&&(this.currentItemType=null));break;case b.GoldBar:this.goldBars>=t&&(this.goldBars-=t,this.node.emit("inventoryChanged","GoldBar",this.goldBars),0==this.goldBars&&(this.currentItemType=null));break;case b.Box:this.boxes>=t&&(this.boxes-=t,this.node.emit("inventoryChanged","Box",this.boxes),0==this.boxes&&(this.currentItemType=null))}},i.getResource=function(e){switch(e){case b.Money:return this.money;case b.GoldBar:return this.goldBars;case b.Box:return this.boxes}},i.getMoney=function(){return this.money},i.getGoldBars=function(){return this.goldBars},i.getBoxes=function(){return this.boxes},i.getCurrentItemType=function(){return this.currentItemType},t}(l)).prototype,"maxGoldBars",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),y=t(u.prototype,"maxBoxes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),m=t(u.prototype,"money",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=t(u.prototype,"goldBars",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),B=t(u.prototype,"boxes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),c=u))||c);i._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GainResourceZone.ts"],(function(e){var t,r,i,n,o,u,a,s,c,l,p,h,f,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,a=e._decorator,s=e.Enum,c=e.Prefab,l=e.Node,p=e.math,h=e.instantiate,f=e.Vec3,m=e.Component},function(e){y=e.GainResourceZone}],execute:function(){var b,d,v,g,G,R,C,z,P,w,F,x,V,k;u._RF.push({},"8bedamASvJFMYDQo97PQ/1R","ResourceGenerator",void 0);var B=a.ccclass,T=a.property,D=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(D||{});e("ResourceGenerator",(b=B("ResourceGenerator"),d=T({type:s(D)}),v=T({type:c}),g=T({type:l}),G=T({type:y}),b((z=t((C=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,n(t,"itemType",z,o(t)),n(t,"resourcePrefab",P,o(t)),n(t,"pointForGeneration",w,o(t)),n(t,"generationInterval",F,o(t)),n(t,"takingZone",x,o(t)),n(t,"stackHeight",V,o(t)),n(t,"maxCount",k,o(t)),t.curCount=0,t.timer=0,t.currentVisuals=[],t}r(t,e);var u=t.prototype;return u.start=function(){this.node.on("onResourceGived",this.removeResource,this)},u.onDestroy=function(){this.node.off("onResourceGived",this.removeResource,this)},u.update=function(e){this.timer>=this.generationInterval?(this.timer=0,this.curCount<this.maxCount&&this.addResource(this.itemType)):this.timer+=e},u.addResource=function(e){e==this.itemType&&(this.curCount+=1,this.takingZone.setCost(this.curCount),this.updateVisual())},u.removeResource=function(e,t){e==this.itemType&&(this.curCount-=t,this.curCount=p.clamp(this.curCount,0,this.maxCount),this.updateVisual())},u.updateVisual=function(){for(var e,t=i(this.currentVisuals);!(e=t()).done;){e.value.destroy()}if(this.currentVisuals=[],this.resourcePrefab&&this.curCount>0)for(var r=0;r<this.curCount;r++){var n=h(this.resourcePrefab);n.setParent(this.node);var o=new f(this.pointForGeneration.x,this.pointForGeneration.y+r*this.stackHeight,this.pointForGeneration.z);n.setPosition(o),this.currentVisuals.push(n)}},t}(m)).prototype,"itemType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.GoldBar}}),P=t(C.prototype,"resourcePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"pointForGeneration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"generationInterval",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(C.prototype,"takingZone",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(C.prototype,"stackHeight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),k=t(C.prototype,"maxCount",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),R=C))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/SpendResourceZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var n,t,i,r,o,s,a,u,l,p,c,g,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Enum,u=e.CCInteger,l=e.Node,p=e.CCFloat,c=e.Collider,g=e.Component},function(e){h=e.PlayerInventory}],execute:function(){var d,y,f,m,b,v,T,C,A,S,E,w,z,B,R,x,I,M,O,P;o._RF.push({},"c39dfM+8A1KIJ7n/rlL6q9/","SpendResourceZone",void 0);var Z=s.ccclass,D=s.property,_=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(_||{});e("SpendResourceZone",(d=Z("SpendResourceZone"),y=D({type:a(_)}),f=D({type:u}),m=D({type:l}),b=D({type:l}),v=D({type:l}),T=D({type:p}),C=D({type:u}),A=D({type:h}),d((w=n((E=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(n,"itemType",w,r(n)),i(n,"cost",z,r(n)),i(n,"disableTarget",B,r(n)),i(n,"enableTarget",R,r(n)),i(n,"eventTarget",x,r(n)),i(n,"spendInterval",I,r(n)),i(n,"spendAmount",M,r(n)),i(n,"isOnceBuying",O,r(n)),i(n,"inventories",P,r(n)),n.timer=0,n.isSpending=!1,n.investedAmount=0,n}t(n,e);var o=n.prototype;return o.start=function(){var e=this.getComponent(c);e?(e.on("onTriggerEnter",this.onTriggerEnter,this),e.on("onTriggerExit",this.onTriggerExit,this)):console.warn("SpendMoneyZone: No Collider found on "+this.node.name)},o.onDestroy=function(){var e=this.getComponent(c);e&&(e.off("onTriggerEnter",this.onTriggerEnter,this),e.off("onTriggerExit",this.onTriggerExit,this)),this.unscheduleAllCallbacks()},o.onTriggerEnter=function(e){if(!(this.investedAmount>=this.cost&&this.isOnceBuying)){var n=e.otherCollider.node;"Player"!==n.name&&"Helper"!==n.name||(this.inventories.push(n.getComponent(h)),this.inventories.length>0&&(this.isSpending=!0))}},o.onTriggerExit=function(e){var n=e.otherCollider.node;"Player"!==n.name&&"Helper"!==n.name||(this.inventories.indexOf(n.getComponent(h))>=0&&delete this.inventories[this.inventories.indexOf(n.getComponent(h))],0==this.inventories.length&&(this.isSpending=!1))},o.update=function(e){this.isSpending&&(this.timer>=this.spendInterval?(this.trySpendResource(),this.timer=0):this.timer+=e)},o.trySpendResource=function(){var e=this;this.inventories.forEach((function(n){n&&n.getResource(e.itemType)>=e.spendAmount&&(n.spendResource(e.itemType,e.spendAmount),e.investedAmount+=e.spendAmount,e.investedAmount>=e.cost&&e.finishedBuying())}))},o.finishedBuying=function(){this.disableTarget&&(this.disableTarget.active=!1),this.enableTarget&&(this.enableTarget.active=!0),this.eventTarget&&this.eventTarget.emit("onResourceGet",this.itemType,this.spendAmount),this.isOnceBuying&&(this.isSpending=!1,this.node.active=!1)},n}(g)).prototype,"itemType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return _.Money}}),z=n(E.prototype,"cost",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),B=n(E.prototype,"disableTarget",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(E.prototype,"enableTarget",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(E.prototype,"eventTarget",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(E.prototype,"spendInterval",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),M=n(E.prototype,"spendAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=n(E.prototype,"isOnceBuying",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=n(E.prototype,"inventories",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=E))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrashUnit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,s,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Enum,c=e.Collider,l=e.Component}],execute:function(){var u,h,p,g,y;i._RF.push({},"47caem7YVJKwoZ3KGjzDSrA","TrashUnit",void 0);var f=s.ccclass,T=s.property,d=function(e){return e.Destroy="Destroy",e.Clean="Clean",e}(d||{});e("TrashUnit",(u=f("TrashUnit"),h=T({type:a(d)}),u((y=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"trashType",y,o(r)),r}t(r,e);var i=r.prototype;return i.start=function(){var e=this.getComponent(c);e&&e.on("onTriggerEnter",this.onTriggerEnter,this)},i.onDestroy=function(){var e=this.getComponent(c);e&&e.off("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(e){"CleanTrigger"===e.otherCollider.node.name&&this.cleaned()},i.cleaned=function(){this.trashType==d.Destroy&&this.node.destroy()},r}(l)).prototype,"trashType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Destroy}}),p=g))||p));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});