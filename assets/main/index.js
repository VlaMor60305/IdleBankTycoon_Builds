System.register("chunks:///_virtual/AutoConvoire.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Convertor.ts"],(function(e){var t,r,o,n,i,u,a,c,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,u=e._decorator,a=e.Enum,c=e.Component},function(e){l=e.Convertor}],execute:function(){var s,p,v,f,y,h,d,m;i._RF.push({},"45ffbGmE9lHEJFQpEv2tPZr","AutoConvoire",void 0);var b=u.ccclass,C=u.property,g=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(g||{});e("AutoConvoire",(s=b("AutoConvoire"),p=C({type:a(g)}),v=C({type:l}),s((h=t((y=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,o(t,"itemType",h,n(t)),o(t,"convertor",d,n(t)),o(t,"interval",m,n(t)),t.timer=0,t}r(t,e);var i=t.prototype;return i.update=function(e){this.convertor&&(this.timer>=this.interval?(this.addResourceToConvertor(),this.timer=0):this.timer+=e)},i.addResourceToConvertor=function(){this.convertor.onAddA(this.itemType,1)},t}(c)).prototype,"itemType",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Money}}),d=t(y.prototype,"convertor",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(y.prototype,"interval",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),f=y))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/BotMover.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,r,o,n,a,s,u,c,l,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,s=t.Node,u=t.Vec3,c=t.Quat,l=t.math,p=t.Component}],execute:function(){var h,g,f,d,m,b,v,y,T,w;n._RF.push({},"fab09FL1opAKZuuPep49lQe","BotMover",void 0);var S=a.ccclass,z=a.property;t("BotMover",(h=S("BotMover"),g=z({type:s}),f=z({type:s}),h((b=e((m=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).curTarget=null,r(e,"targetF",b,o(e)),r(e,"targetS",v,o(e)),r(e,"speed",y,o(e)),r(e,"rotationSpeed",T,o(e)),r(e,"timeToSwitchPoints",w,o(e)),e.timer=0,e}i(e,t);var n=e.prototype;return n.start=function(){this.curTarget=this.targetF},n.update=function(t){if(this.timer>this.timeToSwitchPoints?(this.timer=0,this.SetNextTarget()):this.timer+=t,this.node.position=u.moveTowards(new u,this.node.position,this.curTarget.position,this.speed*t),this.curTarget){var e=new u;if(u.subtract(e,this.curTarget.position,this.node.position),e.lengthSqr()>.01){e.normalize();var i=Math.atan2(e.x,e.z),r=new c;c.fromAxisAngle(r,u.UP,i);var o=this.node.getRotation(),n=new c,a=l.clamp(this.rotationSpeed*t,0,1);c.slerp(n,o,r,a),this.node.setRotation(n)}}},n.SetNextTarget=function(){this.targetF==this.curTarget?this.curTarget=this.targetS:this.curTarget=this.targetF},e}(p)).prototype,"targetF",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(m.prototype,"targetS",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(m.prototype,"speed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),T=e(m.prototype,"rotationSpeed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 60}}),w=e(m.prototype,"timeToSwitchPoints",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),d=m))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/Buyer.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,i,n,r,o,a,s,l,u,c,h,p,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,s=t.Node,l=t.Vec3,u=t.Quat,c=t.math,h=t.geometry,p=t.PhysicsSystem,g=t.Component}],execute:function(){var d,f,y,w,v,b,m,P,z,M,x,S,T,R,B;o._RF.push({},"5d1bdG6wINMO7w9VvYHzJhi","Buyer",void 0);var E=a.ccclass,D=a.property;t("Buyer",(d=E("Buyer"),f=D(s),y=D(s),w=D(s),v=D(s),d((P=e((m=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,n(e,"target",P,r(e)),n(e,"exitTarget",z,r(e)),n(e,"activate",M,r(e)),n(e,"movmentSpeed",x,r(e)),n(e,"rotationSpeed",S,r(e)),n(e,"length",T,r(e)),e.targetPos=new l,n(e,"isMovingToPoint",R,r(e)),e.isExiting=!1,e.spawner=void 0,n(e,"wishMessage",B,r(e)),e}i(e,t);var o=e.prototype;return o.start=function(){this.targetPos=this.target.worldPosition,this.wishMessage.active=!1,this.node.on("onResourceGet",this.Exit,this)},o.onDestroy=function(){this.node.off("onResourceGet",this.Exit,this)},o.SetSpawner=function(t){this.spawner=t},o.SetPoints=function(t,e){this.target=t,this.exitTarget=e},o.update=function(t){if(1==this.isMovingToPoint&&0==this.raycastForward()){var e=this.node.worldPosition,i=new l;if(l.subtract(i,this.targetPos,e),i.lengthSqr()>.01){i.normalize();var n=Math.atan2(i.x,i.z),r=new u;u.fromAxisAngle(r,l.UP,n);var o=this.node.getRotation(),a=new u,s=c.clamp(this.rotationSpeed*t,0,1);u.slerp(a,o,r,s),this.node.setRotation(a)}var h=new l(0,0,1);l.transformQuat(h,h,this.node.rotation);var p=e.add(h.multiplyScalar(this.movmentSpeed*t));this.node.setWorldPosition(p),l.distance(this.targetPos,e)<=1&&(this.wishMessage.active=!0,this.activate.active=!0,this.isMovingToPoint=!1,this.node.rotation=this.target.rotation,this.isExiting&&(this.wishMessage.destroy(),this.spawner.BuyerRemoved(),this.node.destroy()))}},o.raycastForward=function(){var t=this.node.position,e=this.node.forward.normalize(),i=new h.Ray;return h.Ray.fromPoints(i,t,e),p.instance.raycastClosest(i,4294967295,this.length)},o.Exit=function(){this.wishMessage.active=!1,this.targetPos=this.exitTarget.position,this.isMovingToPoint=!0,this.isExiting=!0},e}(g)).prototype,"target",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(m.prototype,"exitTarget",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(m.prototype,"activate",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(m.prototype,"movmentSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),S=e(m.prototype,"rotationSpeed",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),T=e(m.prototype,"length",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),R=e(m.prototype,"isMovingToPoint",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),B=e(m.prototype,"wishMessage",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/BuyersSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Buyer.ts"],(function(e){var t,r,n,i,a,u,o,s,c,l,p,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,u=e._decorator,o=e.Prefab,s=e.Node,c=e.instantiate,l=e.director,p=e.Component},function(e){y=e.Buyer}],execute:function(){var f,b,h,g,m,B,w,S,d,v,z;a._RF.push({},"3bbd2/WN6xKkKJjQeRx5bHO","BuyersSpawner",void 0);var x=u.ccclass,F=u.property;e("BuyersSpawner",(f=x("BuyersSpawner"),b=F({type:o}),h=F({type:s}),g=F({type:s}),f((w=t((B=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),u=0;u<r;u++)a[u]=arguments[u];return t=e.call.apply(e,[this].concat(a))||this,n(t,"buyer",w,i(t)),n(t,"spawnInterval",S,i(t)),n(t,"maxBuyers",d,i(t)),n(t,"targetFirst",v,i(t)),n(t,"targetSecond",z,i(t)),t.timer=0,t.curBuyers=0,t}r(t,e);var a=t.prototype;return a.start=function(){},a.update=function(e){this.curBuyers<this.maxBuyers&&(this.timer>=this.spawnInterval?(this.SpawnBuyer(),this.timer=0):this.timer+=e)},a.SpawnBuyer=function(){var e=c(this.buyer);e.setParent(l.getScene()),e.getComponent(y).SetSpawner(this),e.getComponent(y).SetPoints(this.targetFirst,this.targetSecond),this.curBuyers+=1},a.BuyerRemoved=function(){this.curBuyers-=1},t}(p)).prototype,"buyer",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(B.prototype,"spawnInterval",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),d=t(B.prototype,"maxBuyers",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),v=t(B.prototype,"targetFirst",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(B.prototype,"targetSecond",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=B))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/CameraMovment.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,i,o,a,p,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,p=e.Node,s=e.Vec3,c=e.Component}],execute:function(){var u,l,f,m,d,v,y,h;o._RF.push({},"ef193psLwZMq4CGsypf0SVe","CameraMovment",void 0);var g=a.ccclass,b=a.property;e("CameraMovment",(u=g("CameraMovment"),l=b({type:p}),f=b({type:s}),u((v=t((d=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"target",v,i(t)),r(t,"offset",y,i(t)),r(t,"movmentSpeed",h,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this.target&&(this.node.position=s.lerp(new s,this.node.position,new s(this.target.position).add(this.offset),this.movmentSpeed*e))},t}(c)).prototype,"target",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(d.prototype,"offset",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new s}}),h=t(d.prototype,"movmentSpeed",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),m=d))||m));o._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterInput.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Joystick.ts"],(function(t){var e,i,o,r,n,a,c,s,l,p,u,h,y;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){n=t.cclegacy,a=t._decorator,c=t.CCFloat,s=t.RigidBody,l=t.Vec3,p=t.toDegree,u=t.Quat,h=t.Component},function(t){y=t.Joystick}],execute:function(){var d,f,m,v,g,k,b;n._RF.push({},"6ad75KbLchHM7nRI69M0b4S","CharacterInput",void 0);var w=a.ccclass,C=a.property;t("CharacterInput",(d=w("CharacterController"),f=C({type:y}),m=C({type:c}),d((k=e((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),a=0;a<i;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,o(e,"joystick",k,r(e)),o(e,"movementSpeed",b,r(e)),e.rotationSpeed=360,e._rigidBody=null,e}i(e,t);var n=e.prototype;return n.start=function(){this._rigidBody=this.getComponent(s)},n.update=function(t){this.joystick||console.warn("Joystick not found!");var e=new l(-this.joystick.horizontal,0,this.joystick.vertical),i=Math.sqrt(Math.pow(this.joystick.horizontal,2)+Math.pow(this.joystick.vertical,2));if(i>1&&e.multiplyScalar(1/i),i>.01){var o=p(Math.atan2(e.x,e.z)),r=new u;u.fromAxisAngle(r,l.UNIT_Y,o*Math.PI/180);var n=Math.min(this.rotationSpeed*t,1);this.node.rotation=u.slerp(new u,this.node.rotation,r,n)}this._rigidBody.setLinearVelocity(e.multiplyScalar(this.movementSpeed))},e}(h)).prototype,"joystick",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(g.prototype,"movementSpeed",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),v=g))||v));n._RF.pop()}}}));

System.register("chunks:///_virtual/CollectableItem.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,i,r,n,o,l,a,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Enum,c=e.Component}],execute:function(){var s,u,p,d,h,f;o._RF.push({},"2a8b9CH319PC48kj605CQ83","CollectableItem",void 0);var y=l.ccclass,v=l.property,b=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(b||{});e("CollectableItem",(s=y("CollectableItem"),u=v({type:a(b)}),s((h=t((d=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,r(t,"itemType",h,n(t)),r(t,"value",f,n(t)),t.isCollected=!1,t.spawner=void 0,t}i(t,e);var o=t.prototype;return o.tryCollect=function(e){if(this.isCollected)return!1;var t=e.addItem(this.itemType,this.value);return t&&this.disable(),t},o.SetSpawner=function(e){this.spawner=e},o.disable=function(){this.isCollected||(this.isCollected=!0,this.node.active=!1,null!=this.spawner&&this.spawner.ResourceRemoved())},o.reset=function(){this.isCollected=!1,this.node.active=!0},t}(c)).prototype,"itemType",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.Money}}),f=t(d.prototype,"value",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),p=d))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Convertor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GainResourceZone.ts"],(function(t){var e,i,n,r,o,s,u,a,c,l,h,p,f,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.createForOfIteratorHelperLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,u=t._decorator,a=t.Enum,c=t.Node,l=t.Prefab,h=t.instantiate,p=t.Vec3,f=t.Component},function(t){B=t.GainResourceZone}],execute:function(){var y,b,d,A,v,m,g,V,P,z,F,R,w,T,x,G,k,C,H;s._RF.push({},"9bdf7hQc6xKfbsf4xC2fulb","Convertor",void 0);var I=u.ccclass,Z=u.property,D=function(t){return t.Money="Money",t.GoldBar="GoldBar",t.Box="Box",t}(D||{});t("Convertor",(y=I("Convertor"),b=Z({type:a(D)}),d=Z({type:a(D)}),A=Z({type:c}),v=Z({type:c}),m=Z({type:l}),g=Z({type:l}),V=Z({type:B}),y((F=e((z=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(e,"itemAType",F,o(e)),r(e,"itemBType",R,o(e)),r(e,"pointForA",w,o(e)),r(e,"pointForB",T,o(e)),r(e,"resourceAPrefab",x,o(e)),r(e,"resourceBPrefab",G,o(e)),r(e,"takingBZone",k,o(e)),r(e,"stackHeight",C,o(e)),r(e,"convertingInterval",H,o(e)),e.currentVisualsA=[],e.currentVisualsB=[],e.countA=0,e.countB=0,e.timer=0,e}i(e,t);var s=e.prototype;return s.start=function(){this.node.on("onResourceGet",this.onAddA,this),this.node.on("onResourceGived",this.onRemoveB,this)},s.onDestroy=function(){this.node.off("onResourceGet",this.onAddA,D),this.node.off("onResourceGived",this.onRemoveB,this)},s.update=function(t){this.timer>=this.convertingInterval&&this.countA>0?(this.onRemoveA(this.itemAType,1),this.onAddB(this.itemBType,1),this.timer=0):this.timer+=t},s.onAddA=function(t,e){t==this.itemAType&&(this.countA+=e,this.updateVisualA())},s.onRemoveA=function(t,e){t==this.itemAType&&(this.countA-=e,this.updateVisualA())},s.onAddB=function(t,e){t==this.itemBType&&(this.countB+=1,this.takingBZone.setCost(this.countB),this.updateVisualB())},s.onRemoveB=function(t,e){t==this.itemBType&&(this.countB-=e,this.updateVisualB())},s.updateVisualA=function(){for(var t,e=n(this.currentVisualsA);!(t=e()).done;){t.value.destroy()}if(this.currentVisualsA=[],this.countA&&this.countA>0)for(var i=0;i<this.countA;i++){var r=h(this.resourceAPrefab);r.setParent(this.node);var o=new p(this.pointForA.x,this.pointForA.y+i*this.stackHeight,this.pointForA.z);r.setPosition(o),this.currentVisualsA.push(r)}},s.updateVisualB=function(){for(var t,e=n(this.currentVisualsB);!(t=e()).done;){t.value.destroy()}if(this.currentVisualsB=[],this.resourceBPrefab&&this.countB>0)for(var i=0;i<this.countB;i++){var r=h(this.resourceBPrefab);r.setParent(this.node);var o=new p(this.pointForB.x,this.pointForB.y+i*this.stackHeight,this.pointForB.z);r.setPosition(o),this.currentVisualsB.push(r)}},s.getBoxes=function(){return this.countB},e}(f)).prototype,"itemAType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.GoldBar}}),R=e(z.prototype,"itemBType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Box}}),w=e(z.prototype,"pointForA",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(z.prototype,"pointForB",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(z.prototype,"resourceAPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(z.prototype,"resourceBPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(z.prototype,"takingBZone",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(z.prototype,"stackHeight",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),H=e(z.prototype,"convertingInterval",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),P=z))||P));s._RF.pop()}}}));

System.register("chunks:///_virtual/GainResourceZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var i,t,n,r,o,a,s,l,u,g,c,m,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Enum,l=e.CCInteger,u=e.Node,g=e.CCFloat,c=e.Collider,m=e.Component},function(e){p=e.PlayerInventory}],execute:function(){var h,f,y,d,v,T,b,G,C,A,x,w,B,E,z,R,I,M,O,P;o._RF.push({},"8faa75FzwdNdYy4awlcFELl","GainResourceZone",void 0);var F=a.ccclass,Z=a.property,k=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(k||{});e("GainResourceZone",(h=F("GainResourceZone"),f=Z({type:s(k)}),y=Z({type:l}),d=Z({type:u}),v=Z({type:u}),T=Z({type:u}),b=Z({type:g}),G=Z({type:l}),C=Z({type:p}),h((w=i((x=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"itemType",w,r(i)),n(i,"cost",B,r(i)),n(i,"disableTarget",E,r(i)),n(i,"enableTarget",z,r(i)),n(i,"eventTarget",R,r(i)),n(i,"gainInterval",I,r(i)),n(i,"gainAmount",M,r(i)),n(i,"isOneTime",O,r(i)),n(i,"inventories",P,r(i)),i.timer=0,i.isGaining=!1,i.gainedAmount=0,i}t(i,e);var o=i.prototype;return o.start=function(){var e=this.getComponent(c);e?(e.on("onTriggerEnter",this.onTriggerEnter,this),e.on("onTriggerExit",this.onTriggerExit,this)):console.warn("GainResourceZone: No Collider found on "+this.node.name)},o.onDestroy=function(){var e=this.getComponent(c);e&&(e.off("onTriggerEnter",this.onTriggerEnter,this),e.off("onTriggerExit",this.onTriggerExit,this)),this.unscheduleAllCallbacks()},o.onTriggerEnter=function(e){if(!(this.gainedAmount>=this.cost&&this.isOneTime)){var i=e.otherCollider.node;"Player"!==i.name&&"Helper"!==i.name||(this.inventories.push(i.getComponent(p)),this.inventories.length>0&&(this.isGaining=!0))}},o.onTriggerExit=function(e){var i=e.otherCollider.node;"Player"!==i.name&&"Helper"!==i.name||(this.inventories.indexOf(i.getComponent(p))>=0&&delete this.inventories[this.inventories.indexOf(i.getComponent(p))],0==this.inventories.length&&(this.isGaining=!1))},o.update=function(e){this.isGaining&&(this.timer>=this.gainInterval?(this.tryGainResource(),this.timer=0):this.timer+=e)},o.setCost=function(e){this.cost=e,this.gainedAmount=0},o.tryGainResource=function(){var e=this;this.inventories.forEach((function(i){if(i){var t=i.getCurrentItemType();if(null!==t&&t!==e.itemType)return void e.node.emit("itemBlocked",e.itemType,e.gainAmount);var n=!0;if((e.itemType===k.GoldBar&&i.getGoldBars()>=i.maxGoldBars||e.itemType===k.Box&&i.getBoxes()>=i.maxBoxes)&&(n=!1),n){var r=Math.min(e.gainAmount,e.cost-e.gainedAmount);r>0&&i.addItem(e.itemType,e.itemType===k.Money?10*r:r)&&(e.gainedAmount+=r,e.eventTarget&&e.eventTarget.emit("onResourceGived",e.itemType,e.gainAmount),e.gainedAmount>=e.cost&&e.finishedGaining())}else e.node.emit("itemBlocked",e.itemType,e.gainAmount)}}))},o.finishedGaining=function(){this.disableTarget&&(this.disableTarget.active=!1),this.enableTarget&&(this.enableTarget.active=!0),this.eventTarget&&this.eventTarget.emit("onAllResourceGived",this.itemType,this.gainAmount),this.isOneTime&&(this.isGaining=!1,this.node.active=!1)},i}(m)).prototype,"itemType",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return k.Money}}),B=i(x.prototype,"cost",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),E=i(x.prototype,"disableTarget",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=i(x.prototype,"enableTarget",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=i(x.prototype,"eventTarget",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(x.prototype,"gainInterval",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),M=i(x.prototype,"gainAmount",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),O=i(x.prototype,"isOneTime",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),P=i(x.prototype,"inventories",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=x))||A));o._RF.pop()}}}));

System.register("chunks:///_virtual/Joystick.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var i,o,n,s,e,r,c,a,h,u,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,o=t.inheritsLoose,n=t.createClass,s=t.initializerDefineProperty,e=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,a=t.Node,h=t.UITransform,u=t.Vec2,l=t.Component}],execute:function(){var T,p,d,g,y,f,k;r._RF.push({},"06a4b5F4aZI95zZmAC8mEqH","Joystick",void 0);var v=c.ccclass,b=c.property;t("Joystick",(T=v("Joystick"),p=b({type:a}),d=b({type:a}),T((f=i((y=function(t){function i(){for(var i,o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return i=t.call.apply(t,[this].concat(n))||this,s(i,"stick",f,e(i)),s(i,"background",k,e(i)),i.maxRadius=50,i.touchStartPos=u.ZERO,i.isTouching=!1,i._horizontal=0,i._vertical=0,i}o(i,t);var r=i.prototype;return r.onLoad=function(){this.stick&&this.background?(this.maxRadius=this.getComponent(h).contentSize.x,this.background.on(a.EventType.TOUCH_START,this.onTouchStart,this),this.background.on(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.background.on(a.EventType.TOUCH_END,this.onTouchEnd,this),this.background.on(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):console.error("Stick or background is null")},r.onDestroy=function(){this.background.off(a.EventType.TOUCH_START,this.onTouchStart,this),this.background.off(a.EventType.TOUCH_MOVE,this.onTouchMove,this),this.background.off(a.EventType.TOUCH_END,this.onTouchEnd,this),this.background.off(a.EventType.TOUCH_CANCEL,this.onTouchEnd,this)},r.onTouchStart=function(t){this.isTouching=!0,this.touchStartPos=t.getUILocation(),this.stick.setPosition(0,0)},r.onTouchMove=function(t){if(this.stick&&this.background&&this.isTouching){var i=t.getUILocation().subtract(this.touchStartPos),o=i.clone();i.length()>this.maxRadius&&o.multiplyScalar(this.maxRadius/i.length()),this._horizontal=o.x/this.maxRadius,this._vertical=o.y/this.maxRadius,this.stick.setPosition(o.x,o.y,0)}},r.onTouchEnd=function(t){this.isTouching=!1,this.stick.setPosition(0,0),this._horizontal=0,this._vertical=0},n(i,[{key:"horizontal",get:function(){return this._horizontal}},{key:"vertical",get:function(){return this._vertical}}]),i}(l)).prototype,"stick",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(y.prototype,"background",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingBar.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,n,o,l,a,c,s,u,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,a=e.Node,c=e.SpriteRenderer,s=e.math,u=e.Vec3,p=e.Component}],execute:function(){var d,f,h,g,b,m,y,N,v;o._RF.push({},"c41dbJv+R5NFICXcmnpg47w","LoadingBar",void 0);var x=l.ccclass,L=l.property;e("LoadingBar",(d=x("LoadingBar"),f=L({type:a}),h=L(a),g=L(c),d((y=i((m=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return i=e.call.apply(e,[this].concat(o))||this,r(i,"background",y,n(i)),r(i,"fillNode",N,n(i)),r(i,"fillSprite",v,n(i)),i.maxWidth=1,i}t(i,e);var o=i.prototype;return o.onLoad=function(){this.maxWidth=this.fillNode.scale.x||1},o.setProgress=function(e){e=s.clamp01(e),this.fillNode.position=new u((this.maxWidth-e*this.maxWidth)/2*.4,0,.1),this.fillNode.setScale(e*this.maxWidth,this.fillNode.scale.y,this.fillNode.scale.z)},i}(p)).prototype,"background",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(m.prototype,"fillNode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(m.prototype,"fillSprite",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=m))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./AutoConvoire.ts","./ResourceGenerator.ts","./Buyer.ts","./BuyersSpawner.ts","./BotMover.ts","./CameraMovment.ts","./CharacterInput.ts","./Joystick.ts","./PlayerCarryVisual.ts","./PlayerInventory.ts","./CollectableItem.ts","./Convertor.ts","./GainResourceZone.ts","./LoadingBar.ts","./ResourcesSpawner.ts","./SpendResourceZone.ts","./TrashUnit.ts","./UI_Manager.ts","./WorldIcon.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/PlayerCarryVisual.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var t,n,r,a,i,o,s,l,c,h,u,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.createForOfIteratorHelperLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Prefab,c=e.Vec3,h=e.instantiate,u=e.Component},function(e){y=e.PlayerInventory}],execute:function(){var f,d,p,g,v,b,C,P,x,B,m,V;o._RF.push({},"1eabdpou+1LZ5Z5JOC2d5SY","PlayerCarryVisual",void 0);var M=s.ccclass,I=s.property,w=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(w||{});e("PlayerCarryVisual",(f=M("PlayerCarryVisual"),d=I({type:l}),p=I({type:l}),g=I({type:l}),v=I({type:c}),f((P=t((C=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"moneyPrefab",P,i(t)),a(t,"goldBarPrefab",x,i(t)),a(t,"boxPrefab",B,i(t)),a(t,"carryOffset",m,i(t)),a(t,"stackHeight",V,i(t)),t.currentVisuals=[],t.inventory=null,t}n(t,e);var o=t.prototype;return o.start=function(){this.inventory=this.getComponent(y),this.inventory||console.warn("PlayerInventoru not found"),this.node.on("balanceChanged",this.onBalanceChanged,this),this.node.on("inventoryChanged",this.onInventoryChanged,this),this.node.on("maxCapacityReached",this.onMaxCapacityReached,this),this.updateVisual(),console.log("PlayerCarryVisual: Initialized")},o.onDestroy=function(){this.node.off("balanceChanged",this.onBalanceChanged,this),this.node.off("inventoryChanged",this.onInventoryChanged,this),this.node.off("maxCapacityReached",this.onMaxCapacityReached,this)},o.onBalanceChanged=function(e){console.log("PlayerCarryVisual: Balance changed to "+e),this.updateVisual()},o.onInventoryChanged=function(e,t){console.log("PlayerCarryVisual: Inventory changed - "+e+": "+t),this.updateVisual()},o.onMaxCapacityReached=function(e){console.log("PlayerCarryVisual: Max capacity reached for "+e)},o.updateVisual=function(){for(var e,t=r(this.currentVisuals);!(e=t()).done;){e.value.destroy()}this.currentVisuals=[];var n=this.inventory.getCurrentItemType(),a=null,i=0;if(n===w.Money&&this.inventory.getMoney()>0?(a=this.moneyPrefab,i=Math.min(Math.floor(this.inventory.getMoney()/10),100)):n===w.GoldBar&&this.inventory.getGoldBars()>0?(a=this.goldBarPrefab,i=Math.min(this.inventory.getGoldBars(),this.inventory.maxGoldBars)):n===w.Box&&this.inventory.getBoxes()>0&&(a=this.boxPrefab,i=Math.min(this.inventory.getBoxes(),this.inventory.maxBoxes)),a&&i>0)for(var o=0;o<i;o++){var s=h(a);s.setParent(this.node);var l=new c(this.carryOffset.x,this.carryOffset.y+o*this.stackHeight,this.carryOffset.z);s.setPosition(l),this.currentVisuals.push(s)}},o.update=function(e){for(var t=0;t<this.currentVisuals.length;t++){var n=new c(this.carryOffset.x,this.carryOffset.y+t*this.stackHeight,this.carryOffset.z);this.currentVisuals[t].setPosition(n)}},t}(u)).prototype,"moneyPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(C.prototype,"goldBarPrefab",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(C.prototype,"boxPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=t(C.prototype,"carryOffset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c(0,1,-.5)}}),V=t(C.prototype,"stackHeight",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),b=C))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerInventory.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CollectableItem.ts"],(function(e){var t,r,n,o,i,s,a,l,c,u,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Node,l=e.Label,c=e.Collider,u=e.Component},function(e){h=e.CollectableItem}],execute:function(){var d,y,m,g,x,B,p,b,f,T,C,v,I;i._RF.push({},"e5e8cnrfxdJrohkdspTMtNm","PlayerInventory",void 0);var G=s.ccclass,k=s.property,M=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(M||{});e("PlayerInventory",(d=G("PlayerInventory"),y=k({type:a}),m=k({type:l}),d((B=t((x=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"maxGoldBars",B,o(t)),n(t,"maxBoxes",p,o(t)),n(t,"money",b,o(t)),n(t,"goldBars",f,o(t)),n(t,"boxes",T,o(t)),n(t,"canCollectOnTouch",C,o(t)),t.currentItemType=null,n(t,"resourcesTextBlock",v,o(t)),n(t,"countResourceText",I,o(t)),t}r(t,e);var i=t.prototype;return i.start=function(){var e=this.getComponent(c);e&&e.on("onTriggerEnter",this.onTriggerEnter,this)},i.onDestroy=function(){var e=this.getComponent(c);e&&e.off("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(e){if(this.canCollectOnTouch){var t=e.otherCollider.getComponent(h);t&&t.tryCollect(this)}},i.update=function(e){if(this.resourcesTextBlock&&this.countResourceText)if(null!=this.currentItemType)switch(this.resourcesTextBlock.active=!0,this.currentItemType){case M.Money:this.countResourceText.string=this.getMoney().toString();break;case M.GoldBar:this.getGoldBars()===this.maxGoldBars?this.countResourceText.string="MAX":this.countResourceText.string=this.getGoldBars().toString();break;case M.Box:this.getBoxes()===this.maxBoxes?this.countResourceText.string="MAX":this.countResourceText.string=this.getBoxes().toString()}else this.resourcesTextBlock.active=!1},i.addItem=function(e,t){if(null!==this.currentItemType&&this.currentItemType!==e)return this.node.emit("itemBlocked",e),!1;var r=!1;switch(this.currentItemType=e,e){case M.Money:this.money+=t,this.node.emit("balanceChanged",this.money),r=!0;break;case M.GoldBar:this.goldBars<this.maxGoldBars&&(this.goldBars+=t,this.node.emit("inventoryChanged","GoldBar",this.goldBars),this.goldBars>this.maxGoldBars?this.node.emit("maxCapacityReached","GoldBar"):r=!0);break;case M.Box:this.boxes<this.maxBoxes&&(this.boxes+=t,this.node.emit("inventoryChanged","Box",this.boxes),this.boxes>this.maxBoxes?this.node.emit("maxCapacityReached","Box"):r=!0)}return r},i.clearCarriedItems=function(e){e===M.Money?(this.money=0,this.currentItemType=null,this.node.emit("inventoryChanged","Money",this.goldBars)):e===M.GoldBar?(this.goldBars=0,this.currentItemType=null,this.node.emit("inventoryChanged","GoldBar",this.goldBars)):e===M.Box&&(this.boxes=0,this.currentItemType=null,this.node.emit("inventoryChanged","Box",this.boxes))},i.spendResource=function(e,t){switch(e){case M.Money:this.money>=t&&(this.money-=t,this.node.emit("balanceChanged",this.money),0==this.money&&(this.currentItemType=null));break;case M.GoldBar:this.goldBars>=t&&(this.goldBars-=t,this.node.emit("inventoryChanged","GoldBar",this.goldBars),0==this.goldBars&&(this.currentItemType=null));break;case M.Box:this.boxes>=t&&(this.boxes-=t,this.node.emit("inventoryChanged","Box",this.boxes),0==this.boxes&&(this.currentItemType=null))}},i.getResource=function(e){switch(e){case M.Money:return this.money;case M.GoldBar:return this.goldBars;case M.Box:return this.boxes}},i.getMoney=function(){return this.money},i.getGoldBars=function(){return this.goldBars},i.getBoxes=function(){return this.boxes},i.getCurrentItemType=function(){return this.currentItemType},t}(u)).prototype,"maxGoldBars",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),p=t(x.prototype,"maxBoxes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 5}}),b=t(x.prototype,"money",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=t(x.prototype,"goldBars",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),T=t(x.prototype,"boxes",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=t(x.prototype,"canCollectOnTouch",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),v=t(x.prototype,"resourcesTextBlock",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(x.prototype,"countResourceText",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=x))||g));i._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceGenerator.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GainResourceZone.ts"],(function(e){var t,r,i,n,o,u,a,s,c,l,p,h,f,m,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){u=e.cclegacy,a=e._decorator,s=e.Enum,c=e.Prefab,l=e.Node,p=e.math,h=e.instantiate,f=e.Vec3,m=e.Component},function(e){y=e.GainResourceZone}],execute:function(){var b,d,v,g,G,R,C,z,P,w,F,x,V,k;u._RF.push({},"8bedamASvJFMYDQo97PQ/1R","ResourceGenerator",void 0);var B=a.ccclass,T=a.property,D=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(D||{});e("ResourceGenerator",(b=B("ResourceGenerator"),d=T({type:s(D)}),v=T({type:c}),g=T({type:l}),G=T({type:y}),b((z=t((C=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return t=e.call.apply(e,[this].concat(i))||this,n(t,"itemType",z,o(t)),n(t,"resourcePrefab",P,o(t)),n(t,"pointForGeneration",w,o(t)),n(t,"generationInterval",F,o(t)),n(t,"takingZone",x,o(t)),n(t,"stackHeight",V,o(t)),n(t,"maxCount",k,o(t)),t.curCount=0,t.timer=0,t.currentVisuals=[],t}r(t,e);var u=t.prototype;return u.start=function(){this.node.on("onResourceGived",this.removeResource,this)},u.onDestroy=function(){this.node.off("onResourceGived",this.removeResource,this)},u.update=function(e){this.timer>=this.generationInterval?(this.timer=0,this.curCount<this.maxCount&&this.addResource(this.itemType)):this.timer+=e},u.addResource=function(e){e==this.itemType&&(this.curCount+=1,this.takingZone.setCost(this.curCount),this.updateVisual())},u.removeResource=function(e,t){e==this.itemType&&(this.curCount-=t,this.curCount=p.clamp(this.curCount,0,this.maxCount),this.updateVisual())},u.updateVisual=function(){for(var e,t=i(this.currentVisuals);!(e=t()).done;){e.value.destroy()}if(this.currentVisuals=[],this.resourcePrefab&&this.curCount>0)for(var r=0;r<this.curCount;r++){var n=h(this.resourcePrefab);n.setParent(this.node);var o=new f(this.pointForGeneration.x,this.pointForGeneration.y+r*this.stackHeight,this.pointForGeneration.z);n.setPosition(o),this.currentVisuals.push(n)}},t}(m)).prototype,"itemType",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.GoldBar}}),P=t(C.prototype,"resourcePrefab",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"pointForGeneration",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(C.prototype,"generationInterval",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),x=t(C.prototype,"takingZone",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(C.prototype,"stackHeight",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),k=t(C.prototype,"maxCount",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 25}}),R=C))||R));u._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcesSpawner.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CollectableItem.ts"],(function(e){var t,r,n,i,s,o,a,u,c,p,l,f,h,w,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,a=e.Prefab,u=e.Node,c=e.instantiate,p=e.director,l=e.randomRangeInt,f=e.Quat,h=e.math,w=e.Component},function(e){m=e.CollectableItem}],execute:function(){var R,y,b,d,g,S,v,P,B,I;s._RF.push({},"a44fabc4odB9I30oAK5BwLd","ResourcesSpawner",void 0);var z=o.ccclass,x=o.property;e("ResourcesSpawner",(R=z("ResourcesSpawner"),y=x({type:a}),b=x({type:u}),R((S=t((g=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return t=e.call.apply(e,[this].concat(s))||this,n(t,"resource",S,i(t)),n(t,"spawnInterval",v,i(t)),n(t,"maxResources",P,i(t)),n(t,"spawnPoints",B,i(t)),n(t,"fastSpawn",I,i(t)),t.timer=0,t.curBuyers=0,t}r(t,e);var s=t.prototype;return s.start=function(){},s.update=function(e){if(this.curBuyers<this.maxResources)if(0!=this.spawnInterval){if(this.fastSpawn)for(;this.curBuyers<this.maxResources/2;)this.SpawnResource();this.timer>=this.spawnInterval?(this.SpawnResource(),this.timer=0):this.timer+=e}else for(;this.curBuyers<this.maxResources;)this.SpawnResource()},s.SpawnResource=function(){var e=c(this.resource);if(e.setParent(p.getScene()),this.spawnPoints.length>0){e.position=this.spawnPoints[l(0,this.spawnPoints.length-1)].worldPosition;var t=new f;f.fromEuler(t,h.randomRange(0,360),h.randomRange(0,360),h.randomRange(0,360)),e.setRotation(t)}else e.position=this.node.position;e.getComponent(m).SetSpawner(this),this.curBuyers+=1},s.ResourceRemoved=function(){this.curBuyers-=1},t}(w)).prototype,"resource",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(g.prototype,"spawnInterval",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 2}}),P=t(g.prototype,"maxResources",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1e3}}),B=t(g.prototype,"spawnPoints",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(g.prototype,"fastSpawn",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=g))||d));s._RF.pop()}}}));

System.register("chunks:///_virtual/SpendResourceZone.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts","./LoadingBar.ts"],(function(e){var n,t,i,r,o,s,a,u,l,c,p,g,d,h,f,y;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,a=e.Enum,u=e.CCInteger,l=e.Node,c=e.CCFloat,p=e.Label,g=e.Collider,d=e.director,h=e.Component},function(e){f=e.PlayerInventory},function(e){y=e.LoadingBar}],execute:function(){var m,b,v,T,B,E,A,C,S,w,x,z,R,P,I,O,L,M,Z,D,_,F,G;o._RF.push({},"c39dfM+8A1KIJ7n/rlL6q9/","SpendResourceZone",void 0);var H=s.ccclass,k=s.property,N=function(e){return e.Money="Money",e.GoldBar="GoldBar",e.Box="Box",e}(N||{});e("SpendResourceZone",(m=H("SpendResourceZone"),b=k({type:a(N)}),v=k({type:u}),T=k({type:[l]}),B=k({type:[l]}),E=k({type:[l]}),A=k({type:c}),C=k({type:u}),S=k({type:y}),w=k(p),m((R=n((z=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return n=e.call.apply(e,[this].concat(o))||this,i(n,"itemType",R,r(n)),i(n,"cost",P,r(n)),i(n,"disableTargets",I,r(n)),i(n,"enableTargets",O,r(n)),i(n,"unsetEnabledTarget",L,r(n)),i(n,"eventTargets",M,r(n)),i(n,"spendInterval",Z,r(n)),i(n,"spendAmount",D,r(n)),i(n,"isOnceBuying",_,r(n)),i(n,"loadingBar",F,r(n)),n.inventories=[],n.timer=0,n.isSpending=!1,n.investedAmount=0,i(n,"countText",G,r(n)),n}t(n,e);var o=n.prototype;return o.start=function(){var e=this.getComponent(g);e?(e.on("onTriggerEnter",this.onTriggerEnter,this),e.on("onTriggerExit",this.onTriggerExit,this)):console.warn("SpendMoneyZone: No Collider found on "+this.node.name)},o.onDestroy=function(){var e=this.getComponent(g);e&&(e.off("onTriggerEnter",this.onTriggerEnter,this),e.off("onTriggerExit",this.onTriggerExit,this)),this.unscheduleAllCallbacks()},o.onTriggerEnter=function(e){if(!(this.investedAmount>=this.cost&&this.isOnceBuying)){var n=e.otherCollider.node;"Player"!==n.name&&"Helper"!==n.name||(this.inventories.push(n.getComponent(f)),this.inventories.length>0&&(this.isSpending=!0))}},o.onTriggerExit=function(e){var n=e.otherCollider.node;"Player"!==n.name&&"Helper"!==n.name||(this.inventories.indexOf(n.getComponent(f))>=0&&delete this.inventories[this.inventories.indexOf(n.getComponent(f))],0==this.inventories.length&&(this.isSpending=!1))},o.update=function(e){this.isSpending&&(this.timer>=this.spendInterval?(this.trySpendResource(),this.timer=0):this.timer+=e),this.isOnceBuying&&this.loadingBar&&this.loadingBar.setProgress(this.investedAmount/this.cost),this.countText&&(this.countText.string=(this.cost-this.investedAmount).toString())},o.trySpendResource=function(){var e=this;this.inventories.forEach((function(n){n&&n.getResource(e.itemType)>=e.spendAmount&&(n.spendResource(e.itemType,e.spendAmount),e.investedAmount+=e.spendAmount,e.investedAmount>=e.cost&&e.finishedBuying())}))},o.finishedBuying=function(){var e=this;this.disableTargets.forEach((function(e){e&&(e.active=!1)})),this.enableTargets.forEach((function(n){if(n&&(n.active=!0,e.unsetEnabledTarget)){var t=n.worldPosition;n.setParent(d.getScene()),n.position=t}})),this.eventTargets.forEach((function(n){n&&n.emit("onResourceGet",e.itemType,e.spendAmount)})),this.isOnceBuying&&(this.isSpending=!1,this.node.active=!1)},n}(h)).prototype,"itemType",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return N.Money}}),P=n(z.prototype,"cost",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),I=n(z.prototype,"disableTargets",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=n(z.prototype,"enableTargets",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=n(z.prototype,"unsetEnabledTarget",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),M=n(z.prototype,"eventTargets",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Z=n(z.prototype,"spendInterval",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),D=n(z.prototype,"spendAmount",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),_=n(z.prototype,"isOnceBuying",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),F=n(z.prototype,"loadingBar",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(z.prototype,"countText",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=z))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/TrashUnit.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var r,t,n,o,i,s,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,a=e.Enum,c=e.Collider,l=e.Component}],execute:function(){var u,h,p,g,y;i._RF.push({},"47caem7YVJKwoZ3KGjzDSrA","TrashUnit",void 0);var f=s.ccclass,T=s.property,d=function(e){return e.Destroy="Destroy",e.Clean="Clean",e}(d||{});e("TrashUnit",(u=f("TrashUnit"),h=T({type:a(d)}),u((y=r((g=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,n(r,"trashType",y,o(r)),r}t(r,e);var i=r.prototype;return i.start=function(){var e=this.getComponent(c);e&&e.on("onTriggerEnter",this.onTriggerEnter,this)},i.onDestroy=function(){var e=this.getComponent(c);e&&e.off("onTriggerEnter",this.onTriggerEnter,this)},i.onTriggerEnter=function(e){"CleanTrigger"===e.otherCollider.node.name&&this.cleaned()},i.cleaned=function(){this.trashType==d.Destroy&&this.node.destroy()},r}(l)).prototype,"trashType",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return d.Destroy}}),p=g))||p));i._RF.pop()}}}));

System.register("chunks:///_virtual/UI_Manager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./PlayerInventory.ts"],(function(e){var t,n,r,i,o,a,c,l,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,c=e.RichText,l=e.Component},function(e){u=e.PlayerInventory}],execute:function(){var s,p,y,f,g,v,h;o._RF.push({},"8117608XgBG3oJK64a47Qtx","UI_Manager",void 0);var _=a.ccclass,b=a.property;e("UI_Manager",(s=_("UI_Manager"),p=b({type:u}),y=b({type:c}),s((v=t((g=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return t=e.call.apply(e,[this].concat(o))||this,r(t,"inventory",v,i(t)),r(t,"moneyText",h,i(t)),t}n(t,e);var o=t.prototype;return o.start=function(){},o.update=function(e){this.moneyText.string=this.inventory.getMoney().toString()},t}(l)).prototype,"inventory",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(g.prototype,"moneyText",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/WorldIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a,i,o,c,s,l,u,p,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,c=e.Node,s=e.Camera,l=e.Vec3,u=e.find,p=e.UITransform,f=e.Component}],execute:function(){var h,m,d,b,v,g,y,I,w,z,C;i._RF.push({},"914cc6g21xJXJa4Axc0AK8e","WorldIcon",void 0);var S=o.ccclass,T=o.property;e("WorldIconScreenSpace",(h=S("WorldIconScreenSpace"),m=T(c),d=T(s),b=T(c),v=T({type:l}),h((I=t((y=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"targetObject",I,a(t)),r(t,"camera",w,a(t)),r(t,"canvas",z,a(t)),r(t,"offset",C,a(t)),t.uiTransform=null,t}n(t,e);var i=t.prototype;return i.start=function(){null===this.canvas&&(this.canvas=u("Canvas")),null===this.camera&&(this.camera=u("Main Camera").getComponent(s)),this.node.setParent(this.canvas),this.uiTransform=this.getComponent(p)},i.update=function(e){this.node.position=this.camera.convertToUINode(this.targetObject.position,this.canvas).add(this.offset)},t}(f)).prototype,"targetObject",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(y.prototype,"camera",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(y.prototype,"canvas",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(y.prototype,"offset",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l(0,50,0)}}),g=y))||g));i._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});